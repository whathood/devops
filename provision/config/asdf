vagrant@vagrant-ubuntu-trusty-64:/var/www/whathood/app$ vendor/bin/doctrine-module orm:schema-tool:update --dump-sql
PHP Notice:  Undefined index: whathood in /var/www/whathood/app/module/Whathood/config/module.config.php on line 383

Notice: Undefined index: whathood in /var/www/whathood/app/module/Whathood/config/module.config.php on line 383
CREATE SEQUENCE user_user_id_seq INCREMENT BY 1 MINVALUE 1 START 1;
CREATE TABLE user_polygon (id INT NOT NULL, neighborhood_id INT NOT NULL, region_id INT NOT NULL, whathood_user_id INT NOT NULL, date_time_added VARCHAR(255) NOT NULL, polygon geometry(Polygon) NOT NULL, PRIMARY KEY(id));
CREATE INDEX IDX_9FA93F18803BB24B ON user_polygon (neighborhood_id);
CREATE INDEX IDX_9FA93F1898260155 ON user_polygon (region_id);
CREATE INDEX IDX_9FA93F185219EBCC ON user_polygon (whathood_user_id);
COMMENT ON COLUMN user_polygon.polygon IS '(DC2Type:polygon)';
CREATE TABLE neighborhood_polygons_create_event (id INT NOT NULL, description VARCHAR(255) NOT NULL, date_time_created VARCHAR(255) NOT NULL, test_point_meter_width VARCHAR(255) NOT NULL, concave_hull_target_precision VARCHAR(255) NOT NULL, PRIMARY KEY(id));
CREATE TABLE neighborhood (id INT NOT NULL, region_id INT NOT NULL, name VARCHAR(255) NOT NULL, date_time_added VARCHAR(255) NOT NULL, PRIMARY KEY(id));
CREATE INDEX IDX_FEF1E9EE98260155 ON neighborhood (region_id);
CREATE UNIQUE INDEX name_region_idx ON neighborhood (name, region_id);
CREATE TABLE region (id INT NOT NULL, name VARCHAR(255) NOT NULL, center_point geometry(Point) NOT NULL, PRIMARY KEY(id));
CREATE UNIQUE INDEX region_name_idx ON region (name);
COMMENT ON COLUMN region.center_point IS '(DC2Type:point)';
CREATE TABLE whathood_user (id INT NOT NULL, facebook_user_id BIGINT DEFAULT NULL, user_name VARCHAR(255) NOT NULL, PRIMARY KEY(id));
CREATE UNIQUE INDEX whathood_user_idx ON whathood_user (user_name);
CREATE TABLE neighborhood_heat_map_point (id INT NOT NULL, neighborhood_id INT DEFAULT NULL, point geometry(Point) NOT NULL, strength_of_identity DOUBLE PRECISION NOT NULL, set_num INT NOT NULL, PRIMARY KEY(id));
CREATE INDEX IDX_EF552795803BB24B ON neighborhood_heat_map_point (neighborhood_id);
COMMENT ON COLUMN neighborhood_heat_map_point.point IS '(DC2Type:point)';
CREATE TABLE neighborhood_polygon (id INT NOT NULL, neighborhood_id INT NOT NULL, polygon geometry(Polygon) NOT NULL, num_user_polygons INT NOT NULL, set_number INT NOT NULL, timestamp TIMESTAMP(0) WITH TIME ZONE NOT NULL, PRIMARY KEY(id));
CREATE INDEX IDX_9A443078803BB24B ON neighborhood_polygon (neighborhood_id);
CREATE UNIQUE INDEX neighborhood_polygon_set_number_idx ON neighborhood_polygon (neighborhood_id, set_number);
COMMENT ON COLUMN neighborhood_polygon.polygon IS '(DC2Type:polygon)';
CREATE TABLE "user" (user_id INT NOT NULL, username VARCHAR(255) DEFAULT NULL, email VARCHAR(255) DEFAULT NULL, display_name VARCHAR(50) DEFAULT NULL, password VARCHAR(128) NOT NULL, state SMALLINT DEFAULT NULL, PRIMARY KEY(user_id));
CREATE UNIQUE INDEX UNIQ_8D93D649F85E0677 ON "user" (username);
CREATE UNIQUE INDEX UNIQ_8D93D649E7927C74 ON "user" (email);
ALTER TABLE user_polygon ADD CONSTRAINT FK_9FA93F18803BB24B FOREIGN KEY (neighborhood_id) REFERENCES neighborhood (id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE user_polygon ADD CONSTRAINT FK_9FA93F1898260155 FOREIGN KEY (region_id) REFERENCES region (id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE user_polygon ADD CONSTRAINT FK_9FA93F185219EBCC FOREIGN KEY (whathood_user_id) REFERENCES whathood_user (id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE neighborhood ADD CONSTRAINT FK_FEF1E9EE98260155 FOREIGN KEY (region_id) REFERENCES region (id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE neighborhood_heat_map_point ADD CONSTRAINT FK_EF552795803BB24B FOREIGN KEY (neighborhood_id) REFERENCES neighborhood (id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE neighborhood_polygon ADD CONSTRAINT FK_9A443078803BB24B FOREIGN KEY (neighborhood_id) REFERENCES neighborhood (id) NOT DEFERRABLE INITIALLY IMMEDIATE;


CREATE SEQUENCE user_user_id_seq INCREMENT BY 1 MINVALUE 1 START 1;
CREATE TABLE user_polygon (id INT NOT NULL, neighborhood_id INT NOT NULL, region_id INT NOT NULL, whathood_user_id INT NOT NULL, date_time_added VARCHAR(255) NOT NULL, polygon geometry(Polygon) NOT NULL, PRIMARY KEY(id));
CREATE INDEX IDX_9FA93F18803BB24B ON user_polygon (neighborhood_id);
CREATE INDEX IDX_9FA93F1898260155 ON user_polygon (region_id);
CREATE INDEX IDX_9FA93F185219EBCC ON user_polygon (whathood_user_id);
COMMENT ON COLUMN user_polygon.polygon IS '(DC2Type:polygon)';
CREATE TABLE neighborhood_polygons_create_event (id INT NOT NULL, description VARCHAR(255) NOT NULL, date_time_created 
VARCHAR(255) NOT NULL, test_point_meter_width VARCHAR(255) NOT NULL, concave_hull_target_precision VARCHAR(255) NOT NULL, PRIMARY KEY(id));
CREATE TABLE neighborhood (id INT NOT NULL, region_id INT NOT NULL, name VARCHAR(255) NOT NULL, date_time_added VARCHAR(255) NOT NULL, PRIMARY KEY(id));
CREATE INDEX IDX_FEF1E9EE98260155 ON neighborhood (region_id);
CREATE UNIQUE INDEX name_region_idx ON neighborhood (name, region_id);
CREATE TABLE region (id INT NOT NULL, name VARCHAR(255) NOT NULL, center_point geometry(Point) NOT NULL, PRIMARY KEY(id));
CREATE UNIQUE INDEX region_name_idx ON region (name);
COMMENT ON COLUMN region.center_point IS '(DC2Type:point)';
CREATE TABLE whathood_user (id INT NOT NULL, facebook_user_id BIGINT DEFAULT NULL, user_name VARCHAR(255) NOT NULL, PRIMARY KEY(id));
CREATE UNIQUE INDEX whathood_user_idx ON whathood_user (user_name);
CREATE TABLE neighborhood_heat_map_point (id INT NOT NULL, neighborhood_id INT DEFAULT NULL, point geometry(Point) NOT NULL, strength_of_identity DOUBLE PRECISION NOT NULL, set_num INT NOT NULL, PRIMARY KEY(id));
CREATE INDEX IDX_EF552795803BB24B ON neighborhood_heat_map_point (neighborhood_id);
COMMENT ON COLUMN neighborhood_heat_map_point.point IS '(DC2Type:point)';
CREATE TABLE neighborhood_polygon (id INT NOT NULL, neighborhood_id INT NOT NULL, polygon geometry(Polygon) NOT NULL, n
um_user_polygons INT NOT NULL, set_number INT NOT NULL, timestamp TIMESTAMP(0) WITH TIME ZONE NOT NULL, PRIMARY KEY(id));
CREATE INDEX IDX_9A443078803BB24B ON neighborhood_polygon (neighborhood_id);
CREATE UNIQUE INDEX neighborhood_polygon_set_number_idx ON neighborhood_polygon (neighborhood_id, set_number);
COMMENT ON COLUMN neighborhood_polygon.polygon IS '(DC2Type:polygon)';
ALTER TABLE user_polygon ADD CONSTRAINT FK_9FA93F18803BB24B FOREIGN KEY (neighborhood_id) REFERENCES neighborhood (id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE user_polygon ADD CONSTRAINT FK_9FA93F1898260155 FOREIGN KEY (region_id) REFERENCES region (id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE user_polygon ADD CONSTRAINT FK_9FA93F185219EBCC FOREIGN KEY (whathood_user_id) REFERENCES whathood_user (id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE neighborhood ADD CONSTRAINT FK_FEF1E9EE98260155 FOREIGN KEY (region_id) REFERENCES region (id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE neighborhood_heat_map_point ADD CONSTRAINT FK_EF552795803BB24B FOREIGN KEY (neighborhood_id) REFERENCES neighborhood (id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE neighborhood_polygon ADD CONSTRAINT FK_9A443078803BB24B FOREIGN KEY (neighborhood_id) REFERENCES neighborhood (id) NOT DEFERRABLE INITIALLY IMMEDIATE;

-- when creating ZfcUser, there was a problem referring to public.user table, so have to specify it:
CREATE SEQUENCE public.user_user_id_seq INCREMENT BY 1 MINVALUE 1 START 1;
CREATE TABLE public."user" (user_id INT NOT NULL, username VARCHAR(255) DEFAULT NULL, email VARCHAR(255) DEFAULT NULL, display_name VARCHAR(50) DEFAULT NULL, password VARCHAR(128) NOT NULL, state SMALLINT DEFAULT NULL, PRIMARY KEY(user_id
));
CREATE UNIQUE INDEX UNIQ_8D93D649F85E0677 ON public."user" (username);
CREATE UNIQUE INDEX UNIQ_8D93D649E7927C74 ON public."user" (email);

